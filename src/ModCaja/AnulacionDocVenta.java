/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ModCaja;

import java.awt.event.KeyEvent;
import java.sql.ResultSet;
import java.text.DecimalFormat;
import javax.swing.JOptionPane;
import principal.FormMain;
import utiles.DBManager;
import utiles.Focus;
import utiles.InfoErrores;
import utiles.MaxLength;
import utiles.StatementManager;

/**
 *
 * @author ANDRES
 */
public class AnulacionDocVenta extends javax.swing.JDialog {

    private final DecimalFormat decimalFormat = new DecimalFormat("###,###,###.00");
    
    public AnulacionDocVenta(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        configCampos();
        llenarCombosLabels();
        cargarTipoDoc();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    
    private boolean grabarPrevioCommit(String sql){
        boolean result;
        if(DBManager.ejecutarDML(sql) > 0){
            result = true;
        }else{
            result = false;
        }
        return result;
    }
    
    private boolean anulacionVenta(String codCaja, String tipoDocumento, String nroDoc, String codEmpresa, String codLocal){
        String sql =    "BEGIN; "
                       + ""
                       + "UPDATE venta_cab SET estado = 'A', "
                       + "fec_vigencia = 'now()', "
                       + "cod_usuario = " + FormMain.codUsuario + " "
                       + "WHERE cod_caja = " + codCaja + " "
                       + "AND tip_comprob = '" + tipoDocumento + "' "
                       + "AND nro_ticket = " + nroDoc + " "
                       + "AND cod_empresa = " + codEmpresa + " "
                       + "AND cod_local = " + codLocal + "; "
                       + ""
                       + ""
                       + "UPDATE venta_det SET estado = 'A', "
                       + "fec_vigencia = 'now()' "
                       + "WHERE cod_caja = " + codCaja + " "
                       + "AND tip_comprob = '" + tipoDocumento + "' "
                       + "AND nro_ticket = " + nroDoc + " "
                       + "AND cod_empresa = " + codEmpresa + " "
                       + "AND cod_local = " + codLocal + "; "
                       + ""
                       + ""
                       + "UPDATE forma_pago SET estado = 'A', "
                       + "fec_vigencia = 'now()', "
                       + "cod_usuario = " + FormMain.codUsuario + " "
                       + "WHERE cod_caja = " + codCaja + " "
                       + "AND tip_comprob = '" + tipoDocumento + "' "
                       + "AND nro_ticket = " + nroDoc + " "
                       + "AND cod_empresa = " + codEmpresa + " "
                       + "AND cod_local = " + codLocal + "; "
                       + ""
                       + "COMMIT;" ;
        
        System.out.println("SQL - ANULACION DOC DE VENTA: " + sql);
        return (grabarPrevioCommit(sql));
    }
    
    private boolean updateStockHisArt(String codEmpresa, String codLocal, String nroDoc, String tipoDoc, String codCaja){
        String codArticulo = "", siglaVenta = "", cansiVenta = "", codSector = "";
        double canVenta = 0, montoCosto = 0, montoMargen = 0, montoIvaCosto = 0, montoTotalVenta = 0;
        boolean result = false;
        int codSubGrupo, codGrupo, codMarca, codProveedor, pctIva;
        String sqlCodArticulo = "SELECT cod_articulo, can_venta, cansi_venta, sigla_venta, cod_sector, pct_iva, "
                              + "mon_costo, mon_margen, mon_venta "
                              + "FROM venta_det "
                              + "WHERE cod_empresa = " + codEmpresa + " "
                              + "AND cod_local = " + codLocal + " "
                              + "AND nro_ticket = " + nroDoc + " "
                              + "AND tip_comprob = '" + tipoDoc + "' "
                              + "AND cod_caja = " + codCaja;
        try{
            ResultSet rs = DBManager.ejecutarDSL(sqlCodArticulo);
            if(rs != null){
                while(rs.next()){
                    codArticulo = rs.getString("cod_articulo");
                    canVenta = rs.getDouble("can_venta");
                    siglaVenta = rs.getString("sigla_venta");
                    cansiVenta = rs.getString("cansi_venta");
                    codSector = rs.getString("cod_sector");
                    pctIva = rs.getInt("pct_iva");
                    montoCosto = rs.getDouble("mon_costo");
                    montoMargen = rs.getDouble("mon_margen");
                    montoTotalVenta = rs.getDouble("mon_venta");
                    codSubGrupo = getCodSubGrupoArticulo(codArticulo);
                    codGrupo = getCodGrupoArticulo(codArticulo);
                    codMarca = getCodMarcaArticulo(codArticulo);
                    codProveedor = getCodProveedorArticulo(codArticulo);
                    if(pctIva == 10){
                        montoIvaCosto = (montoTotalVenta / 11);
                    }
                    if(pctIva == 5){
                        montoIvaCosto = (montoTotalVenta / 21);
                    }
                    
                    if(pctIva == 0){
                        montoIvaCosto = 0;
                    }
                    
                    updateStockArtSum(codArticulo, canVenta);
                    updateHisMoviArticulo(codEmpresa, codLocal, codSector, codArticulo, siglaVenta, cansiVenta, canVenta, tipoDoc, nroDoc);
                    insertHisVentaArticulo(codEmpresa, codLocal, codArticulo, canVenta, pctIva, montoCosto, montoMargen, montoIvaCosto, montoTotalVenta, 
                                           codSubGrupo, codProveedor, codMarca, codGrupo, codSector, tipoDoc);
                }
                result = false;
            }
        }catch(Exception ex){
            result = true;
            ex.printStackTrace();
            InfoErrores.errores(ex);
        }finally{
            DBManager.CerrarStatements();
        }
        return result;
    }
    
    private int getCodGrupoArticulo(String codArticulo){
        int codigo = 0;
        try{
            String sql = "SELECT cod_grupo FROM articulo WHERE cod_articulo = " + codArticulo;
            ResultSet rs = DBManager.ejecutarDSL(sql);
            if(rs != null){
                if(rs.next()){
                    codigo = rs.getInt("cod_grupo");
                }
            }
        }catch(Exception ex){
            ex.printStackTrace();
        }finally{
            DBManager.CerrarStatements();
        }
        return codigo;
    }
    
    private int getCodSubGrupoArticulo(String codArticulo){
        int codigo = 0;
        try{
            String sql = "SELECT cod_subgrupo FROM articulo WHERE cod_articulo = " + codArticulo;
            ResultSet rs = DBManager.ejecutarDSL(sql);
            if(rs != null){
                if(rs.next()){
                    codigo = rs.getInt("cod_subgrupo");
                }
            }
        }catch(Exception ex){
            ex.printStackTrace();
        }finally{
            DBManager.CerrarStatements();
        }
        return codigo;
    }
    
    private int getCodMarcaArticulo(String codArticulo){
        int codigo = 0;
        try{
            String sql = "SELECT cod_marca FROM articulo WHERE cod_articulo = " + codArticulo;
            ResultSet rs = DBManager.ejecutarDSL(sql);
            if(rs != null){
                if(rs.next()){
                    codigo = rs.getInt("cod_marca");
                }
            }
        }catch(Exception ex){
            ex.printStackTrace();
        }finally{
            DBManager.CerrarStatements();
        }
        return codigo;
    }
    
    private int getCodProveedorArticulo(String codArticulo){
        int codigo = 0;
        try{
            String sql = "SELECT cod_proveedor FROM articulo WHERE cod_articulo = " + codArticulo;
            ResultSet rs = DBManager.ejecutarDSL(sql);
            if(rs != null){
                if(rs.next()){
                    codigo = rs.getInt("cod_proveedor");
                }
            }
        }catch(Exception ex){
            ex.printStackTrace();
        }finally{
            DBManager.CerrarStatements();
        }
        return codigo;
    }
    
    private void updateStockArtSum(String codArticulo, double canVenta){
        String sql = "UPDATE stockart SET stock = (stock + " + canVenta + "), fec_vigencia = 'now()' WHERE cod_articulo = " + codArticulo;
        grabarPrevioCommit(sql);
    }
    
    private void updateHisMoviArticulo(String codEmpresa, String codLocal, String codSector, String codArticulo, String siglaVenta, String cansiVenta, 
                                       double cantidad, String tipoComp, String nroComprob){
        String sql = "INSERT INTO hismovi_articulo (cod_empresa, cod_local, cod_sector, cod_articulo, sigla_venta, cansi_venta, cantidad, "
                   + "tipo_movimiento, tip_comprob, fec_movimiento, fec_vigencia, estado, cod_traspaso, nro_comprob) VALUES ("
                   + codEmpresa + ", "
                   + codLocal + ", "
                   + codSector + ", "
                   + codArticulo + ", '"
                   + siglaVenta + "', "
                   + cansiVenta + ", "
                   + cantidad + ", 'ENT', '"
                   + tipoComp + "', 'now()', 'now()', 'V', 0, "
                   + nroComprob + ");";
        grabarPrevioCommit(sql);
    }
    
    private void insertHisVentaArticulo(String codEmpresa, String codLocal, String codArticulo, double cantidad, int pctIva, double montoCosto, 
                                        double montoMargen, double montoIva, double montoTotal, int codSubGrupo, int codProveedor, int codMarca, 
                                        int codGrupo, String codSector, String tipoComp) {
        String sql = "INSERT INTO hisventa_articulo (cod_empresa, cod_local, cod_articulo, fec_venta, cant_venta, pct_iva, monto_costo, monto_margen, "
                   + "monto_iva, monto_total, cod_subgrupo, cod_proveedor, cod_marca, cod_grupo, cod_sector, procesado, fec_vigencia, monto_costo_avg, "
                   + "tip_comprob, nro_asiento_cmv) VALUES ("
                   + codEmpresa + ", "
                   + codLocal + ", "
                   + codArticulo + ", 'now()', -"
                   + cantidad + ", "
                   + pctIva + ", -"
                   + montoCosto + ", -"
                   + montoMargen + ", -"
                   + montoIva + ", -"
                   + montoTotal + ", "
                   + codSubGrupo + ", "
                   + codProveedor + ", "
                   + codMarca + ", "
                   + codGrupo + ", "
                   + codSector + ", 'N', 'now()', 0, '"
                   + tipoComp + "', 0)";
        grabarPrevioCommit(sql);
    }
    
    private void anularDocumento(){
        String codCaja = jTFCodCaja.getText().trim();
        String tipoDocumento = jCBTipoDocumento.getSelectedItem().toString();
        String nroDoc = jTFNroDoc.getText().trim();
        String codEmpresa = jCBCodEmpresa.getSelectedItem().toString();
        String codLocal = jCBCodLocal.getSelectedItem().toString();
        
        boolean resultOperacionesAnulacionVenta = true;
        boolean resultUpdateStockHisArt = true;
        
        if(jTFEstadoDoc.getText().equals("A")){
            JOptionPane.showMessageDialog(this, "El documento ya se encuentra anulado!", "Atención", JOptionPane.INFORMATION_MESSAGE);
            jTFNroDoc.requestFocus();
        }else{
            
            int confirm = JOptionPane.showConfirmDialog(this, "¿Confirma anulación del documento?", "Atención", JOptionPane.YES_NO_OPTION);
            
            if (confirm == 0){
                resultOperacionesAnulacionVenta = anulacionVenta(codCaja, tipoDocumento, nroDoc, codEmpresa, codLocal);
                resultUpdateStockHisArt = updateStockHisArt(codEmpresa, codLocal, nroDoc, tipoDocumento, codCaja);                

                if(resultOperacionesAnulacionVenta || resultUpdateStockHisArt){
                    if(!rollBacktDatos()){
                        JOptionPane.showMessageDialog(this, "ATENCION: Error al ejecutar el RollBack!", "Error", JOptionPane.WARNING_MESSAGE);
                    }else{
                        JOptionPane.showMessageDialog(this, "No se pudo realizar la anulación!", "Mensaje", JOptionPane.INFORMATION_MESSAGE);
                    }
                }else{
                    if(!commitDatos()){
                        JOptionPane.showMessageDialog(this, "ATENCION: Error al ejecutar el Commit!", "Error", JOptionPane.WARNING_MESSAGE);
                    }else{
                        JOptionPane.showMessageDialog(this, "ANULACIÓN realizada con éxito!", "Mensaje", JOptionPane.INFORMATION_MESSAGE);
                    }
                }
            }else{
                jTFNroDoc.requestFocus();
            }
        }
    }
    
    private boolean commitDatos() {
        boolean result = true;
        try {
            DBManager.conn.commit();
        } catch (Exception ex) {
            result = false;
            InfoErrores.errores(ex);
        }
        return result;
    }
    
    private boolean rollBacktDatos() {
        boolean result = true;
        try {
            DBManager.conn.rollback();
        } catch (Exception ex) {
            result = false;
            InfoErrores.errores(ex);
        }
        return result;
    }
    
    private void getDatosDocumento(String nroDoc, String codEmpresa, String codLocal, String codCaja, String tipComprob){
        try{
            String sql = "SELECT vc.cod_cliente, cli.razon_soc, cli.ruc_cliente, vc.mon_exento, (vc.mon_grava10 + vc.mon_iva10) AS grav10, "
                       + "(vc.mon_grava05 + vc.mon_iva05) AS grav5, "
                       + "vc.mon_total, vc.estado, to_char(vc.fec_comprob, 'dd/MM/yyyy') AS fec_documento "
                       + "FROM venta_cab vc "
                       + "INNER JOIN cliente cli "
                       + "ON vc.cod_cliente = cli.cod_cliente " 
                       + "WHERE vc.nro_comprob = " + nroDoc + " "
                       + "AND vc.cod_caja = " + codCaja + " "
                       + "AND vc.cod_empresa = " + codEmpresa + " "
                       + "AND vc.cod_local = " + codLocal + " "
                       + "AND tip_comprob = '" + tipComprob + "'";
            System.out.println("SQL DATOS - DOCUMENTO: " + sql);
            ResultSet rs = DBManager.ejecutarDSL(sql);
            if(rs != null){
                if(rs.next()){
                    jLInexistente.setVisible(false);
                    jTFFecEmision.setText(rs.getString("fec_documento"));
                    jTFCodCliente.setText(rs.getString("cod_cliente"));
                    jTFNombreCliente.setText(rs.getString("razon_soc"));
                    jTFRucCliente.setText(rs.getString("ruc_cliente"));
                    jTFMontoExento.setText(String.valueOf(decimalFormat.format(rs.getDouble("mon_exento"))));
                    jTFMontoGrav5.setText(String.valueOf(decimalFormat.format(rs.getDouble("grav5"))));
                    jTFMontoGrav10.setText(String.valueOf(decimalFormat.format(rs.getDouble("grav10"))));
                    jTFTotalDoc.setText(String.valueOf(decimalFormat.format(rs.getDouble("mon_total"))));
                    jTFEstadoDoc.setText(rs.getString("estado"));
                    jBAnularDoc.requestFocus();
                }else{
                    jLInexistente.setVisible(true);
                    jLInexistente.setText("INEXISTENTE");
                    jTFFecEmision.setText("");
                    jTFCodCliente.setText("0");
                    jTFNombreCliente.setText("");
                    jTFRucCliente.setText("");
                    jTFMontoExento.setText("0");
                    jTFMontoGrav5.setText("0");
                    jTFMontoGrav10.setText("0");
                    jTFTotalDoc.setText("0");
                    jTFEstadoDoc.setText("");
                    jTFNroDoc.requestFocus();
                }
            }else{
                jLInexistente.setVisible(true);
                jLInexistente.setText("INEXISTENTE");
                jTFFecEmision.setText("");
                jTFCodCliente.setText("0");
                jTFNombreCliente.setText("");
                jTFRucCliente.setText("");
                jTFMontoExento.setText("0");
                jTFMontoGrav5.setText("0");
                jTFMontoGrav10.setText("0");
                jTFTotalDoc.setText("0");
                jTFEstadoDoc.setText("");
                jTFNroDoc.requestFocus();
            }
        }catch(Exception ex){
            ex.printStackTrace();
            InfoErrores.errores(ex);
        }finally{
            DBManager.CerrarStatements();
        }
    }
    
    private void cargarTipoDoc(){
        jCBTipoDocumento.removeAllItems();
        StatementManager sm = new StatementManager();
        try
        {
            sm.TheSql = "SELECT tip_comprob FROM tipo_comprobante WHERE tipo_operacion = 'VENTA'";
            sm.EjecutarSql();
            while(sm.TheResultSet.next())
            {
                jCBTipoDocumento.addItem(sm.TheResultSet.getString("tip_comprob"));                
            }
        }catch(Exception ex)
        {
            ex.printStackTrace();
            InfoErrores.errores(ex);
        }finally
        {
            sm.CerrarStatement();
            sm = null;
        }
    }
    
    private void configCampos(){
        jTFCodCaja.setDocument(new MaxLength(6, "", "ENTERO"));
        jTFNroDoc.setDocument(new MaxLength(10, "", "ENTERO"));
        
        jTFCodCaja.addFocusListener(new Focus());
        jTFNroDoc.addFocusListener(new Focus());
        jTFCodCaja.setText("0");
        jTFCodCaja.grabFocus();
    }
    
    private void llenarCombosLabels(){
        utiles.Utiles.cargaComboEmpresas(this.jCBCodEmpresa);
        utiles.Utiles.cargaComboLocales(this.jCBCodLocal);
        
        jLNombreEmpresa.setText(utiles.Utiles.getRazonSocialEmpresa(jCBCodEmpresa.getSelectedItem().toString()));
        jLNombreLocal.setText(utiles.Utiles.getDescripcionLocal(jCBCodLocal.getSelectedItem().toString()));
    }
    
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jPanel5 = new javax.swing.JPanel();
        jLabel3 = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        jCBCodEmpresa = new javax.swing.JComboBox<>();
        jLNombreEmpresa = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jCBCodLocal = new javax.swing.JComboBox<>();
        jLNombreLocal = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        jTFCodCaja = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jCBTipoDocumento = new javax.swing.JComboBox<>();
        jLabel6 = new javax.swing.JLabel();
        jTFNroDoc = new javax.swing.JTextField();
        jBBuscar = new javax.swing.JButton();
        jLInexistente = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        jTFFecEmision = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        jTFCodCliente = new javax.swing.JTextField();
        jTFNombreCliente = new javax.swing.JTextField();
        jTFRucCliente = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        jTFMontoExento = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        jTFMontoGrav5 = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        jTFMontoGrav10 = new javax.swing.JTextField();
        jLabel12 = new javax.swing.JLabel();
        jTFTotalDoc = new javax.swing.JTextField();
        jTFEstadoDoc = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        jBAnularDoc = new javax.swing.JButton();
        jBSalir = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("ATOMSystems|Main - Anulación de documento de venta");

        jPanel1.setBackground(new java.awt.Color(204, 255, 204));

        jPanel5.setBackground(new java.awt.Color(204, 255, 204));
        jPanel5.setBorder(javax.swing.BorderFactory.createEtchedBorder(javax.swing.border.EtchedBorder.RAISED));

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel3.setText("ANULACION DE DOCUMENTO DE VENTA");

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel3)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel3)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jLabel1.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel1.setText("Empresa:");

        jLNombreEmpresa.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLNombreEmpresa.setText("***");

        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel2.setText("Local:");

        jLNombreLocal.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLNombreLocal.setText("***");

        jPanel2.setBackground(new java.awt.Color(204, 255, 204));
        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Documento", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 3, 11))); // NOI18N

        jLabel4.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel4.setText("Caja:");

        jTFCodCaja.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTFCodCaja.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTFCodCaja.setText("0");
        jTFCodCaja.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jTFCodCajaFocusGained(evt);
            }
        });
        jTFCodCaja.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTFCodCajaKeyPressed(evt);
            }
        });

        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel5.setText("Tipo doc:");

        jCBTipoDocumento.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jCBTipoDocumento.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jCBTipoDocumentoKeyPressed(evt);
            }
        });

        jLabel6.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel6.setText("Nro.doc.:");

        jTFNroDoc.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTFNroDoc.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTFNroDoc.setText("0");
        jTFNroDoc.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                jTFNroDocFocusGained(evt);
            }
        });
        jTFNroDoc.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTFNroDocKeyPressed(evt);
            }
        });

        jBBuscar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/buscar24.png"))); // NOI18N
        jBBuscar.setText("Buscar");
        jBBuscar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBBuscarActionPerformed(evt);
            }
        });

        jLInexistente.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLInexistente.setForeground(new java.awt.Color(255, 0, 0));

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel6)
                    .addComponent(jLabel4)
                    .addComponent(jLabel5))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jTFCodCaja)
                    .addComponent(jCBTipoDocumento, 0, 79, Short.MAX_VALUE)
                    .addComponent(jTFNroDoc))
                .addGap(36, 36, 36)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jBBuscar)
                    .addComponent(jLInexistente, javax.swing.GroupLayout.PREFERRED_SIZE, 274, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTFCodCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5)
                    .addComponent(jCBTipoDocumento, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLInexistente))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6)
                    .addComponent(jTFNroDoc, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jBBuscar))
                .addContainerGap())
        );

        jPanel3.setBackground(new java.awt.Color(204, 255, 204));
        jPanel3.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createEtchedBorder(), "Detalles", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 3, 11))); // NOI18N

        jLabel7.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel7.setText("Fec. Emisión:");

        jTFFecEmision.setEditable(false);
        jTFFecEmision.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTFFecEmision.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel8.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        jLabel8.setText("Cliente:");

        jTFCodCliente.setEditable(false);
        jTFCodCliente.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTFCodCliente.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTFCodCliente.setText("0");

        jTFNombreCliente.setEditable(false);
        jTFNombreCliente.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N

        jTFRucCliente.setEditable(false);
        jTFRucCliente.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTFRucCliente.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel9.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel9.setText("Exento:");

        jTFMontoExento.setEditable(false);
        jTFMontoExento.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTFMontoExento.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTFMontoExento.setText("0");

        jLabel10.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel10.setText("Gravado 5%:");

        jTFMontoGrav5.setEditable(false);
        jTFMontoGrav5.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTFMontoGrav5.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTFMontoGrav5.setText("0");

        jLabel11.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel11.setText("Gravado 10%:");

        jTFMontoGrav10.setEditable(false);
        jTFMontoGrav10.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTFMontoGrav10.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTFMontoGrav10.setText("0");

        jLabel12.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel12.setText("TOTAL DOC.:");

        jTFTotalDoc.setEditable(false);
        jTFTotalDoc.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTFTotalDoc.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        jTFTotalDoc.setText("0");

        jTFEstadoDoc.setEditable(false);
        jTFEstadoDoc.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jTFEstadoDoc.setHorizontalAlignment(javax.swing.JTextField.CENTER);

        jLabel13.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jLabel13.setText("Estado:");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel11)
                    .addComponent(jLabel10)
                    .addComponent(jLabel9)
                    .addComponent(jLabel8)
                    .addComponent(jLabel7))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addComponent(jTFCodCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTFNombreCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 360, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTFRucCliente, javax.swing.GroupLayout.DEFAULT_SIZE, 126, Short.MAX_VALUE))
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jTFFecEmision, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jTFMontoExento)
                            .addComponent(jTFMontoGrav5)
                            .addComponent(jTFMontoGrav10, javax.swing.GroupLayout.DEFAULT_SIZE, 140, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                                .addComponent(jLabel12)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jTFTotalDoc, javax.swing.GroupLayout.PREFERRED_SIZE, 140, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                                .addComponent(jLabel13)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jTFEstadoDoc, javax.swing.GroupLayout.PREFERRED_SIZE, 51, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7)
                    .addComponent(jTFFecEmision, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel8)
                        .addComponent(jTFCodCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jTFNombreCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTFRucCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTFMontoExento, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel9))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel10)
                    .addComponent(jTFMontoGrav5, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTFEstadoDoc, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel13))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11)
                    .addComponent(jTFMontoGrav10, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel12)
                    .addComponent(jTFTotalDoc, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jBAnularDoc.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/eliminar24.png"))); // NOI18N
        jBAnularDoc.setText("Anular documento");
        jBAnularDoc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBAnularDocActionPerformed(evt);
            }
        });

        jBSalir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/resources/salir24.png"))); // NOI18N
        jBSalir.setText("Salir");
        jBSalir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBSalirActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jLabel2)
                                    .addComponent(jLabel1))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                        .addComponent(jCBCodEmpresa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jLNombreEmpresa, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                        .addComponent(jCBCodLocal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(jLNombreLocal, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(jBAnularDoc)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jBSalir)))
                .addContainerGap())
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(jCBCodEmpresa, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLNombreEmpresa))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(jCBCodLocal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLNombreLocal))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jBAnularDoc)
                    .addComponent(jBSalir))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void jBSalirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBSalirActionPerformed
        this.dispose();
    }//GEN-LAST:event_jBSalirActionPerformed

    private void jTFCodCajaFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTFCodCajaFocusGained
        jTFCodCaja.selectAll();
    }//GEN-LAST:event_jTFCodCajaFocusGained

    private void jTFCodCajaKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTFCodCajaKeyPressed
        if(evt.getKeyCode() == KeyEvent.VK_ENTER){
            jCBTipoDocumento.grabFocus();
        }
    }//GEN-LAST:event_jTFCodCajaKeyPressed

    private void jCBTipoDocumentoKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jCBTipoDocumentoKeyPressed
        if(evt.getKeyCode() == KeyEvent.VK_ENTER){
            jTFNroDoc.grabFocus();
        }
    }//GEN-LAST:event_jCBTipoDocumentoKeyPressed

    private void jTFNroDocFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTFNroDocFocusGained
        jTFNroDoc.selectAll();
    }//GEN-LAST:event_jTFNroDocFocusGained

    private void jTFNroDocKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTFNroDocKeyPressed
        if(evt.getKeyCode() == KeyEvent.VK_ENTER){
            jBBuscar.grabFocus();
        }
    }//GEN-LAST:event_jTFNroDocKeyPressed

    private void jBBuscarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBBuscarActionPerformed
        String nroDocumento = jTFNroDoc.getText().trim();
        String codCaja = jTFCodCaja.getText().trim();
        String codEmpresa = jCBCodEmpresa.getSelectedItem().toString();
        String codLocal = jCBCodLocal.getSelectedItem().toString();
        String tipComprob = jCBTipoDocumento.getSelectedItem().toString();
        
        
        getDatosDocumento(nroDocumento, codEmpresa, codLocal, codCaja, tipComprob);
    }//GEN-LAST:event_jBBuscarActionPerformed

    private void jBAnularDocActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBAnularDocActionPerformed
        jBBuscar.doClick();
        anularDocumento();
    }//GEN-LAST:event_jBAnularDocActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(AnulacionDocVenta.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(AnulacionDocVenta.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(AnulacionDocVenta.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(AnulacionDocVenta.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                AnulacionDocVenta dialog = new AnulacionDocVenta(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jBAnularDoc;
    private javax.swing.JButton jBBuscar;
    private javax.swing.JButton jBSalir;
    private javax.swing.JComboBox<String> jCBCodEmpresa;
    private javax.swing.JComboBox<String> jCBCodLocal;
    private javax.swing.JComboBox<String> jCBTipoDocumento;
    private javax.swing.JLabel jLInexistente;
    private javax.swing.JLabel jLNombreEmpresa;
    private javax.swing.JLabel jLNombreLocal;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JTextField jTFCodCaja;
    private javax.swing.JTextField jTFCodCliente;
    private javax.swing.JTextField jTFEstadoDoc;
    private javax.swing.JTextField jTFFecEmision;
    private javax.swing.JTextField jTFMontoExento;
    private javax.swing.JTextField jTFMontoGrav10;
    private javax.swing.JTextField jTFMontoGrav5;
    private javax.swing.JTextField jTFNombreCliente;
    private javax.swing.JTextField jTFNroDoc;
    private javax.swing.JTextField jTFRucCliente;
    private javax.swing.JTextField jTFTotalDoc;
    // End of variables declaration//GEN-END:variables
}
